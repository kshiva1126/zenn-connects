---
title: "ãƒ­ãƒ¼ã‚«ãƒ«ã®Cloudflare Workersã‹ã‚‰ãƒªãƒ¢ãƒ¼ãƒˆã®R2ã«æ¥ç¶šã—ã‚ˆã†ã¨ã—ã¦ã¡ã‚‡ã£ã¨ãƒãƒã£ãŸ"
emoji: "ğŸ—‚"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["cloudflare", "cloudflareworkers", "r2"]
published: true
---

1æ™‚é–“ãã‚‰ã„æ‚©ã‚“ã§ã„ãŸã®ã§å‚™å¿˜éŒ²ã¨ã—ã¦ãƒ¡ãƒ¢ã£ã¦ãŠãã¾ã™ã€‚

## ç’°å¢ƒ
Wrangler ^3.15.0

## ç¾è±¡
Cloudflareã®Webã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã‹ã‚‰R2ã«æ ¼ç´ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã€Wranglerã§ç«‹ã¡ä¸Šã’ãŸWorkersã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã—ã‚ˆã†ã¨ã—ãŸã¨ã“ã‚ã€ãã®ã‚ˆã†ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯å­˜åœ¨ã—ãªã„ã¨ã„ã£ãŸç¾è±¡ã«é­é‡ã—ãŸ
wrangler.tomlã®è¨˜è¿°ã‚„ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ä¸Šã§ã®R2ã‹ã‚‰getã™ã‚‹éš›ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåã®æŒ‡å®šãªã©ãã¾ãªãç¢ºèªã—ãŸãŒèª¤ã‚Šã¯ãªã‹ã£ãŸ

## ãªã«ãŒèµ·ãã¦ã„ãŸã‹
ãã¾ãã‚Œã§.wrangler/é…ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’çœºã‚ãŸã¨ã“ã‚ã€r2ã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒä½œæˆã•ã‚Œã¦ãŠã‚Šã€ã©ã†ã‚„ã‚‰ãšã£ã¨ãã“ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ãŸã£ã½ã„ã€ã€
(ã„ã‚ã‚“ãªè¨˜äº‹ã‚’å‚è€ƒã«ã—ãŸã‘ã©previewç”¨ã®ãƒã‚±ãƒƒãƒˆã‚’è¿½åŠ ã—ã¦ã€wrangler.tomlã«preview_bucket_nameã¨ã—ã¦è¨˜è¼‰ã—ã¦ãŠã‘ã°å‹æ‰‹ã«ãã®ãƒã‚±ãƒƒãƒˆã«ã¤ãªãŒã£ã¦ãã‚Œã‚‹ã¨æ€ã„è¾¼ã‚“ã§ãŸğŸ˜¢)

### è¿½è¨˜
ã“ã“ã«ã‚ã¡ã‚ƒãã¡ã‚ƒæ›¸ã„ã¦ãŸ
>preview_bucket_name  optional
>
>The preview name of this R2 bucket used during wrangler dev --remote.
When using Wrangler in the default local development mode, files will be written to local storage instead of the preview or production bucket.

https://developers.cloudflare.com/workers/wrangler/configuration/

## è§£æ±ºæ–¹æ³•(?)
ã“ã®ã‚ˆã†ãªã‚³ãƒãƒ³ãƒ‰ã§ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒã‚’ç«‹ã¡ä¸Šã’ã¦ã„ãŸ
```
wrangler dev src/index.ts
```

ã“ã‚Œã‚’ä»¥ä¸‹ãƒšãƒ¼ã‚¸ã‚’å‚è€ƒã«`--remote`ãƒ•ãƒ©ã‚°ã‚’è¿½åŠ ã—ãŸã¨ã“ã‚ã€ãƒªãƒ¢ãƒ¼ãƒˆã®R2ã‚’è¦‹ã«è¡Œãã‚ˆã†ã«ãªã£ãŸ
```
wrangler dev src/index.ts --remote
```

ã§ã‚‚ã“ã‚Œã ã¨D1ã‚‚ãƒªãƒ¢ãƒ¼ãƒˆã®ã‚‚ã®ã‚’è¦‹ã«è¡Œãã®ã§ã†ãƒ¼ã‚“ã£ã¦ãªã£ãŸã‘ã©ãã†ã„ã†ã‚‚ã®ã ã¨æ€ã†ã“ã¨ã«ã—ãŸ
(ä»Šå›ã®è‡ªåˆ†ã®ã‚±ãƒ¼ã‚¹ãŒã¾ã‚Œã§ã€ãµã¤ã†ã¯ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã ã‘ã§å®Œçµã™ã‚‹ã‹ã‚‰ã†ã‚Œã—ã„ã®ã‹ã‚‚)

å‚è€ƒ: https://developers.cloudflare.com/workers/observability/local-development-and-testing/

## çµ‚ã‚ã‚Šã«
ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å½“ãŸã‚‹ã®ã¯ã‚„ã£ã±ã‚Šå¤§äº‹
